# äº‹ä»¶ 
from ./lib/event import event_template

function ./game/event/1_night_fall:
     event_template("å¤œæ™šé™ä¸´","black","é»‘æš—é‡Œæœ‰ç‚¹ä¸œè¥¿")
     time set night
     execute at @r[tag=ingame,tag=!out] run summon phantom 0 70 0
     execute at @r[tag=ingame,tag=!out] run summon phantom 0 70 0
function ./game/event/2_falling_anvil:
     event_template("é“ç §ä¸‹è½","#5f665d","æ³¨æ„å¤´é¡¶ï¼")
     execute as @a[tag=ingame,tag=!out] at @s run fill ~ ~1 ~ ~ ~5 ~ air
     execute as @a[tag=ingame,tag=!out] at @s run setblock ~ ~5 ~ anvil
function ./game/event/3_dragon:
     event_template("é¾™è¢­","red","è¦ç»“æŸäº†ï¼Ÿ")
     execute at @r[tag=ingame,tag=!out] run summon ender_dragon 0 100 0 {Tags:["event.3_dragon"]}
     data modify entity @e[type=ender_dragon,limit=1] DragonPhase set value 8
function ./game/event/4_wither:
     event_template("å‡‹çµ","red","Â§kxxxxxx")
     execute at @r[tag=ingame,tag=!out] run summon wither 0 70 0 {Tags:["event.4_wither"]}
function ./game/event/5_fly:
     event_template("FLY","blue","\u00a7r\u00a7bè‡ªç”±çš„é£")
     give @a[tag=ingame,tag=!out] elytra
     give @a[tag=ingame,tag=!out] firework_rocket 3
function ./game/event/6_rain/tip:
     event_template("ç®­é›¨","dark_purple","ä»€ä¹ˆéƒ½æœ‰ï¼Ÿ(10s)")
     scoreboard players set #Timer EventDura.Sec 10
     execute as @a[tag=ingame,tag=!out] at @s run function ./game/event/6_rain/run
function ./game/event/7_sky_waker/tip:
     event_template("è¸ç©º","aqua","\u00a7r\u00a74ææ€–å¦‚æ–¯")
function ./game/event/8_rotation/tip:
     event_template("è‡ªè½¬","#1de6f0","oiiaioooooiai(10s)")
     scoreboard players set #Timer EventDura.Tick 200
function ./game/event/9_lightning:
     event_template("é›·å‡»","gold","æˆ‘çš„é¿é›·é’ˆå‘¢ï¼Ÿ")
     execute as @a[tag=ingame,tag=!out] at @s run summon lightning_bolt ~ ~ ~
function ./game/event/10_hello_world:
     event_template("ä½ å¥½,ä¸–ç•Œ","green","Hello World!")
     time set day
     execute as @a[tag=ingame,tag=!out] run effect give @s instant_health 1 5 true
function ./game/event/11_undye:
     event_template("ã€Œä¸æ­»ã€","gold","+1 life")
     execute as @a[tag=ingame,tag=!out] run give @s totem_of_undying 1
function ./game/event/12_broken_leg:
     event_template("æ–­è…¿","red","")
     execute as @a[tag=ingame,tag=!out] run attribute @s jump_strength modifier add yw-pillar:event.broken_leg -0.5 add_value
function ./game/event/13_punch:
     execute if score #Game RuleID matches 3 run return run function yw-pillar:game/event/main
     event_template("ä¸€å‡»å¿…æ€","yellow","ONE PUNCH!!!")
     execute as @a[tag=ingame,tag=!out] run attribute @s attack_damage base set 40
function ./game/event/14_creeper:
     event_template("CREEPER","white","Creeper?")
     execute as @a[tag=ingame,tag=!out] at @s if predicate {condition:"random_chance",chance:0.1} run return run summon creeper ~ ~0.5 ~ {Silent:true,powered:true}
     execute as @a[tag=ingame,tag=!out] at @s run summon creeper ~ ~0.5 ~
function ./game/event/15_touch:
     event_template("æ‘¸æ‘¸","#e315c8","OvO")
     execute as @a[tag=ingame,tag=!out] run attribute @s entity_interaction_range modifier add yw-pillar:event.pat_pat 10 add_value
function ./game/event/16_inv_exchange:
     event_template("èƒŒåŒ…äº¤æ¢","green","è¿™ä½•å°ä¸æ˜¯ä¸€ç§NTR")
     function yw-pillar:utils/event/inv_exchange/run
function ./game/event/17_king_game:
     event_template("å›½ç‹æ¸¸æˆ","gold","æˆç‹è´¥å¯‡")
     execute as @r[tag=ingame,tag=!out] run tag @s add event.17_king_game
     effect give @a[tag=event.17_king_game] glowing infinite 0 true
     item replace entity @a[tag=event.17_king_game] armor.head with stick[custom_name={text:"ä¼ªÂ·ç‹å† ",color:"gray",bold:true,italic:false},lore=[{text:"ã€æ¬²æˆ´ç‹å†  å¿…æ‰¿å…¶é‡ã€",color:"red",underlined:true}],equippable={slot:"head"},enchantments={binding_curse:1},tooltip_display={hidden_components:["enchantments"]},item_model="yw-pillar:event/crown",attribute_modifiers=[{id:"yw-pillar:fake_crown_1",type:"armor",amount:2,operation:"add_value",slot:"head"},{id:"yw-pillar:fake_crown_2",type:"armor_toughness",amount:2,operation:"add_value",slot:"head"},{"id":"yw-pillar:fake_crown_3",type:"attack_damage",amount:3,operation:"add_value",slot:"head"},{"id":"yw-pillar:fake_crown_4",type:"max_health",amount:5,operation:"add_value",slot:"head"}]]
function ./game/event/18_lucky_doll:
     event_template("å¹¸è¿ç©å¶","gold","qvq")
     execute as @a[tag=ingame,tag=!out] as @s run loot give @s loot yw-pillar:doll
function ./game/event/19_hungry:
     event_template("é¥¿å•Šé¥¿å•Š","#587653","eaea")
     execute as @a[tag=ingame,tag=!out] effect give @s hunger 30 40 true
function ./game/event/20_black:
     event_template("é»‘","white","çœŸçš„é»‘")
     title @a[tag=ingame,tag=!out] title "\uE005"
function ./game/event/21_speed:
     event_template("Speed","aqua","ğŸ¦½å†²åˆºå†²åˆºğŸ¦½")
     execute as @a[tag=ingame,tag=!out] run attribute @s movement_speed modifier add yw-pillar:event.speed 0.2 add_value
     
# è§„åˆ™
from ./lib/rule import rule_template

function ./game/rule/1_small_cute:
     rule_template("å°å°çš„ä¹Ÿå¾ˆå¯çˆ±â¤","#f90fce",-7273689,"ç©å®¶å°ºå¯¸ç¼©å°ä¸ºåŸæ¥çš„ Â§l1/3")
     execute as @a[tag=ingame,tag=!out] run attribute @s scale base set 0.33
function ./game/rule/2_big:
     rule_template("å¤§ï¼å¤§ï¼å¤§ï¼","gold",-38896125,"ç©å®¶å°ºå¯¸å¢å¤§ä¸ºåŸæ¥çš„ Â§l3/2")
     execute as @a[tag=ingame,tag=!out] run attribute @s scale base set 1.5
function ./game/rule/3_my_partner/tip:
     rule_template("æˆ‘çš„ä¼™ä¼´","blue",-48357795,"è·å¾—ä¸€åª Â§lç‹ç‹¸\n  ç‹ç‹¸å­˜æ´»æ—¶,ç»™ç©å®¶æä¾›åŠ›é‡å’Œç”Ÿå‘½å›å¤")
     execute as @a[tag=ingame,tag=!out] run function ./utils/rule/fox_give with entity @s
function ./game/rule/4_punch:
     rule_template("ä¸€å‡»å¿…æ€ï¼","red",-41089492,"ç©å®¶æ”»å‡»ä¼¤å®³å˜æˆ Â§l40")
     execute as @a[tag=ingame,tag=!out] run attribute @s attack_damage base set 40
function ./game/rule/5_inv_exchange:
     rule_template("èƒŒåŒ…äº¤æ¢","green",-11832829,"éšæœºäº‹ä»¶å›ºå®šä¸º Â§lèƒŒåŒ…äº¤æ¢")

#æŸ±
from ./lib/pillar import pillar_tempalte

pillar_tempalte("wool","bedrock")
pillar_tempalte("nether","red_nether_bricks")
pillar_tempalte("glass","glass")
pillar_tempalte("void","stone")
